window.series = [
    {   
        tipo: "serie",
        id: "1",
        categoria: "drama",
        titulo: "Breaking Bad",
        img: "assets/Breaking-bad.webp",
        video: {
            "Temporada 1": "https://www.youtube.com/embed/mXd1zTwcQ18?si=-zDN_tl5sW-ZqCf7",
            "Temporada 2": "https://www.youtube.com/embed/I-8914DuyhY?si=T_3DrjxYEjlVzhbP",
            "Temporada 3": "https://www.youtube.com/embed/ZK2IQ3LbLYk?si=EP260zyiYntfkyfC",
            "Temporada 4": "https://www.youtube.com/embed/A1hk9q2iCWo?si=9zgxOl840DjMo4x3",
            "Temporada 5": "https://www.youtube.com/embed/I-8914DuyhY?si=T_3DrjxYEjlVzhbP"
        },
        genero: "Drama",
        temporadas: {
            "Temporada 1": 7,
            "Temporada 2": 13,
            "Temporada 3": 13,
            "Temporada 4": 13,
            "Temporada 5": 16
        },
        resumen: "Breaking Bad cuenta la historia de Walter White, un profesor de química diagnosticado con cáncer terminal, que se ve obligado a fabricar y vender metanfetamina para asegurar el futuro de su familia. A medida que Walter se involucra en el mundo del crimen organizado, su personalidad cambia radicalmente, y termina convirtiéndose en un peligroso capo de las drogas. ",
        actores: [
            { nombre: "Bryan Cranston", enlace: "https://es.wikipedia.org/wiki/Bryan_Cranston" },
            { nombre: "Aaron Paul", enlace: "https://es.wikipedia.org/wiki/Aaron_Paul" },
            { nombre: "Anna Gunn", enlace: "https://es.wikipedia.org/wiki/Anna_Gunn" },
            { nombre: "Dean Norris", enlace: "https://es.wikipedia.org/wiki/Dean_Norris" },
            { nombre: "RJ Mitte", enlace: "https://es.wikipedia.org/wiki/RJ_Mitte" },
            { nombre: "Bob Odenkirk", enlace: "https://es.wikipedia.org/wiki/Bob_Odenkirk" }
        ]
    },
    {
        tipo: "serie",
        id: "2",
        categoria: "crimen drama",
        titulo: "Better Call Saul",
        img: "assets/BetterCallSaul.png",
        video: {
            "Temporada 1": "https://www.youtube.com/embed/jtJRfdao_RY?si=sfMuH3DU1aUZkjwd",
            "Temporada 2": "https://www.youtube.com/embed/jJ1SKlVzhss?si=HOcDZDcGYWAdue5K",
            "Temporada 3": "https://www.youtube.com/embed/G90UBKrkdVo?si=WlCItusbOhb6AB0o",
            "Temporada 4": "https://www.youtube.com/embed/xZYCcZ3gGEU?si=4lbVqTp0EsHHlFy_",
            "Temporada 5": "https://www.youtube.com/embed/quC2GkURViU?si=AwwCQVDmFF0CUc9T",
            "Temporada 6": "https://www.youtube.com/embed/Qz3u06eXf0E?si=uv6sFEhA2HXl12bQ"
        },
        genero: "Drama",
        temporadas: {
            "Temporada 1": 10,
            "Temporada 2": 10,
            "Temporada 3": 10,
            "Temporada 4": 10,
            "Temporada 5": 10,
            "Temporada 6": 13
        },
        resumen: "Better Call Saul es una serie de televisión precuela de Breaking Bad, que narra la historia de Jimmy McGill (posteriormente conocido como Saul Goodman), un ex estafador que intenta convertirse en un abogado respetable. Se centra en su transformación de un hombre con principios éticos a un abogado penalista egocéntrico y excéntrico, seis años antes de que se involucre en la vida de Walter White. ",
        actores: [
            { nombre: "Bob Odenkirk", enlace: "https://es.wikipedia.org/wiki/Bob_Odenkirk" },
            { nombre: "Rhea Seehorn", enlace: "https://es.wikipedia.org/wiki/Rhea_Seehorn" },
            { nombre: "Jonathan Banks", enlace: "https://es.wikipedia.org/wiki/Jonathan_Banks" },
            { nombre: "Michael Mann", enlace: "https://es.wikipedia.org/wiki/Michael_Mann" },
            { nombre: "Patrick Farley", enlace: "https://es.wikipedia.org/wiki/Patrick_Farley" },
            { nombre: "Giancarlo Esposito", enlace: "https://es.wikipedia.org/wiki/Giancarlo_Esposito" },
            { nombre: "Tony Dalton", enlace: "https://es.wikipedia.org/wiki/Tony_Dalton" }
        ]
    },
    {
        tipo: "serie",
        id: "3",
        categoria: "crimen drama misterio",
        titulo: "Dexter",
        img: "assets/Dexter-portada.webp",
        video: {
            "Temporada 1": "https://www.youtube.com/embed/t779a6O_Me0?si=-I4uzP14vNv6cyIT",
            "Temporada 2": "https://www.youtube.com/embed/nNluTQMnjHY?si=bmubB4PU9aDixITG",
            "Temporada 3": "https://www.youtube.com/embed/T8bB6-BesqA?si=aJJHmhgduIxTInfO",
            "Temporada 4": "https://www.youtube.com/embed/XzXvbc_wgms?si=T0MgtCmfoiSlGf7f",
            "Temporada 5": "https://www.youtube.com/embed/WnLDdxVHab4?si=lEAGdebDM5dkhaXV",
            "Temporada 6": "https://www.youtube.com/embed/V41XaHeoUwA?si=oX23bBMriDwLDOBp",
            "Temporada 7": "https://www.youtube.com/embed/tsp1o_6WMNM?si=uZ1pfBY1srLyNIgN",
            "Temporada 8": "https://www.youtube.com/embed/7NwGQnLZ-Yg?si=MCUcBifsCqZTbvAQ"
        },
        genero: "Drama",
        temporadas: {
            "Temporada 1": 12,
            "Temporada 2": 12,
            "Temporada 3": 12,
            "Temporada 4": 12,
            "Temporada 5": 12,
            "Temporada 6": 12,
            "Temporada 7": 12,
            "Temporada 8": 12
        },
        resumen: "Dexter es una serie de televisión que cuenta la historia de Dexter Morgan, un forense que lleva una doble vida como asesino en serie. Dexter, que sufre de psicopatía, sigue un código moral establecido por su padre adoptivo, Harry, y mata a criminales que considera que se han escapado de la justicia. A lo largo de la serie, Dexter se enfrenta a diversos desafíos, tanto personales como profesionales, mientras intenta mantener su doble vida oculta y controlar sus impulsos asesinos. ",
        actores: [
            { nombre: "Michael C. Hall", enlace: "https://es.wikipedia.org/wiki/Michael_C._Hall" },
            { nombre: "Jennifer Carpenter", enlace: "https://es.wikipedia.org/wiki/Jennifer_Carpenter" },
            { nombre: "David Zayas", enlace: "https://es.wikipedia.org/wiki/David_Zayas" },
            { nombre: "Angel Batista", enlace: "https://es.wikipedia.org/wiki/Angel_Battista" },
            { nombre: "Christina Robinson", enlace: "https://es.wikipedia.org/wiki/Christina_Robinson" },
            { nombre: "Desmond Harrington", enlace: "https://es.wikipedia.org/wiki/Desmond_Harrington" },
            { nombre: "Julie Benz", enlace: "https://es.wikipedia.org/wiki/Julie_Benz" }
        ]

    },
    {
        tipo: "serie",
        id: "4",
        categoria: "drama",
        titulo: "Dr. House",
        img: "assets/DrHouse.png",
        video: {
            "Temporada 1": "https://www.youtube.com/embed/1nqW4g_S0wo?si=-DUc0DT2yjqkrzTk",
            "Temporada 2": "https://www.youtube.com/embed/XrVlsLeU3Lg?si=S5X8XfhvHQb9ACwn",
            "Temporada 3": "https://www.youtube.com/embed/w5qU3loeMKA?si=V_KpJl_DqBwucMtj",
            "Temporada 4": "https://www.youtube.com/embed/n8EfNllqS_A?si=8cTPJuHws3s5vSMG",
            "Temporada 5": "https://www.youtube.com/embed/bmw_FFWshBk?si=26AbUFWzLaVyzGkx",
            "Temporada 6": "https://www.youtube.com/embed/tztatwZlsL0?si=9YYvk7c-uGpgHS_8",
            "Temporada 7": "https://www.youtube.com/embed/HgyuSeMqX1g?si=b9vkfArIoCwdAniH",
            "Temporada 8": "https://www.youtube.com/embed/ueoMmifGsIk?si=-IDcbwOnbfMkc5_7"
        },
        genero: "Drama",
        temporadas: {
            "Temporada 1": 22,
            "Temporada 2": 24,
            "Temporada 3": 24,
            "Temporada 4": 16,
            "Temporada 5": 24,
            "Temporada 6": 22,
            "Temporada 7": 23,
            "Temporada 8": 22
        },
        resumen: "Dr. House es una serie de televisión estadounidense que sigue la vida del Dr. Gregory House, un médico brillante pero poco convencional que dirige un equipo de diagnóstico en el Hospital Princeton-Plainsboro. House es conocido por su ingenio, su carácter misántropo y su dependencia de analgésicos debido a un dolor crónico en la pierna. ",
        actores: [
            { nombre: "Hugh Laurie", enlace: "https://es.wikipedia.org/wiki/Hugh_Laurie" },
            { nombre: "James Wilson", enlace: "https://es.wikipedia.org/wiki/James_Wilson" },
            { nombre: "Lisa Edelstein", enlace: "https://es.wikipedia.org/wiki/Lisa_Edelstein" },
            { nombre: "Jesse Spencer", enlace: "https://es.wikipedia.org/wiki/Jesse_Spencer" },
            { nombre: "Jennifer Morrison", enlace: "https://es.wikipedia.org/wiki/Jennifer_Morrison" },
            { nombre: "Omar Epps", enlace: "https://es.wikipedia.org/wiki/Omar_Epps" }
        ]

    },
    {   tipo: "serie",
        id: "5",
        categoria: "ciencia-ficcion",
        titulo: "El Eternauta",
        img: "assets/El-eternauta.webp",
        video: {
            "Temporada 1": "https://www.youtube.com/embed/ykLTd5aTa88?si=D0UZTTa4gFCESUhm",
        },
        genero: "ciencia-ficcion",
        temporadas: {
            "Temporada 1": 6
        },
        resumen: "El Eternauta es una historieta argentina creada por Héctor Germán Oesterheld y Francisco Solano López, que narra la historia de Juan Salvo, un hombre común que, junto a su familia y amigos, debe sobrevivir a una invasión alienígena en Buenos Aires. La invasión se manifiesta como una extraña nevada tóxica que mata a gran parte de la población. Juan, en un ejercicio de metaficción, relata la historia a Oesterheld",
        actores: [
            { nombre: "Ricardo Darín" , enlace: "https://es.wikipedia.org/wiki/Ricardo_Darín" },
            { nombre: "Ariel Staltari", enlace: "https://es.wikipedia.org/wiki/Ariel_Staltari" },
            { nombre: "Marcelo Subiotto", enlace: "https://es.wikipedia.org/wiki/Marcelo_Subiotto" },
            { nombre: "César Troncoso", enlace: "https://es.wikipedia.org/wiki/César_Troncoso" },
            { nombre: "Orianna Cárdenas", enlace: "https://es.wikipedia.org/wiki/Orianna_Cárdenas" },
        ]
    },
    {   tipo: "serie",
        id: "6",
        categoria: "fantasia romanticas",
        titulo: "The Vampire Diaries",
        img: "assets/vampire.Diaries.webp",
        video: {
            "Temporada 1": "https://www.youtube.com/embed/BmVmhjjkN4E?si=pX6PRU0oFFI0YJbh",
            "Temporada 2": "https://www.youtube.com/embed/HW_bd0k5_Tg?si=C5pZfDKVb4O8qRbW",
            "Temporada 3": "https://www.youtube.com/embed/lguUg0fVio8?si=DFrxF3UiRSmVv1mD",
            "Temporada 4": "https://www.youtube.com/embed/cbixkXJZmHQ?si=2-2QKqobGq0jKBn1",
            "Temporada 5": "https://www.youtube.com/embed/o_xexn2yqXI?si=yUBsbmiCZiykXqUx",
            "Temporada 6": "https://www.youtube.com/embed/7lx_OePXzh0?si=LLbi0TUucXlj3VDx",
            "Temporada 7": "https://www.youtube.com/embed/WVTOcE_s4OU?si=OACj0z6JoyG3rxgd",
            "Temporada 8": "https://www.youtube.com/embed/zAa_RgTeO7g?si=nmy68DrnwyqxgJYa"
        },
        genero: "Drama",
        temporadas: {
            "Temporada 1": 22,
            "Temporada 2": 22,
            "Temporada 3": 22,
            "Temporada 4": 22,
            "Temporada 5": 22,
            "Temporada 6": 22,
            "Temporada 7": 22,
            "Temporada 8": 16
        },
        resumen: "The Vampire Diaries (Diarios de Vampiros) es una serie de televisión que sigue la vida de Elena Gilbert, una adolescente que se enamora de dos hermanos vampiros: Stefan y Damon Salvatore. La serie se centra en la lucha de Elena y sus amigos contra las amenazas sobrenaturales en su ciudad natal, Mystic Falls, incluyendo vampiros, hombres lobo, brujas y otros seres mágicos. ",
        actores: [
            { nombre: "Ian Somerhalder", enlace: "https://es.wikipedia.org/wiki/Ian_Somerhalder" },
            { nombre: "Nina Dobrev", enlace: "https://es.wikipedia.org/wiki/Nina_Dobrev" },
            { nombre: "Paul Wesley", enlace: "https://es.wikipedia.org/wiki/Paul_Wesley" },
            { nombre: "Candice Accola", enlace: "https://es.wikipedia.org/wiki/Candice_Accola" },
            { nombre: "Kat Graham", enlace: "https://es.wikipedia.org/wiki/Kat_Graham" },
            { nombre: "Zach Roerig", enlace: "https://es.wikipedia.org/wiki/Zach_Roerig" }
        ]
    }
];

// window.addEventListener("DOMContentLoaded", function () {


//     if (window.location.search.includes("id=")) {
//         const id = window.location.search.split("=")[1];
//         const detalle = window.series.find((p) => p.id === id);
//         if (detalle) {
//             const iframe = document.querySelector("iframe");
//             iframe.src = detalle.video;
//             document.getElementById("titulo").textContent = detalle.titulo;
//             document.getElementById("temporadas").textContent = detalle.temporadas;
//             document.getElementById("capitulos").textContent = detalle.capitulo;
//             document.getElementById("genero").textContent = detalle.genero;
//             document.getElementById("resumen").textContent = detalle.resumen;
//             //Ingresar en el array de actores
//             detalle.actores.forEach(function (actor) {
//                 const nombre = actor.nombre + ", ";
//                 const enlace = actor.enlace;
//                 const actorElement = document.createElement("a");
//                 actorElement.setAttribute("href", enlace);
//                 actorElement.setAttribute("target", "_blank");
//                 actorElement.classList.add("enlace-actor");
//                 actorElement.textContent = nombre;
//                 document.getElementById("actores").appendChild(actorElement);
//             });

//             // Agregar opciones de temporadas
//             const temporadas = document.getElementById("temporadas");
//             const capitulos = document.getElementById("capitulos");
//             for(let i = 1; i <= Object.keys(detalle.temporadas).length; i++) {
//                 const option = document.createElement('option');
//                 option.value = Object.keys(detalle.temporadas)[i-1];
//                 option.textContent = Object.keys(detalle.temporadas)[i-1];
//                 temporadas.appendChild(option);
//             }
//             function obtenerCapitulos(temporada) {
//                 const temporadaCapitulos = Object.values(detalle.temporadas)[Object.keys(detalle.temporadas).indexOf(temporada)];
//                 for(let i = 1; i <= temporadaCapitulos; i++) {
//                     const option = document.createElement('option');
//                     option.value = i;
//                     option.textContent = `Capítulo ${i}`;
//                     capitulos.appendChild(option);
//                 }
//             }
//             // Evento al cambiar temporada
//             temporadas.addEventListener("change", function () {
//                 obtenerCapitulos(this.value);
//             });
                        
//             obtenerCapitulos(temporadas.value || Object.keys(detalle.temporadas)[0]);
//             // Agregar evento al botón de comenzar
//             document.getElementById("btn-comenzar").addEventListener("click", function () {
//                 window.open(detalle.video);
//             });
//         }
//     }
// });

window.addEventListener("DOMContentLoaded", function () {
  if (window.location.search.includes("id=")) {
    const id = new URLSearchParams(window.location.search).get("id");
    const detalle = window.series.find((p) => p.id === id);

    if (detalle) {
      // Cargar iframe trailer
      const iframe = document.querySelector("iframe");
      iframe.src = detalle.video;

      // Cargar texto general
      document.getElementById("titulo").textContent = detalle.titulo;
      document.getElementById("genero").textContent = detalle.genero;
      document.getElementById("resumen").textContent = detalle.resumen;

      // Cargar actores con enlaces a Wikipedia
      const contenedorActores = document.getElementById("actores");
      contenedorActores.innerHTML = ""; // limpiar si hay actores previos
      detalle.actores.forEach(actor => {
        const actorElement = document.createElement("a");
        actorElement.href = actor.enlace;
        actorElement.target = "_blank";
        actorElement.classList.add("enlace-actor");
        actorElement.textContent = actor.nombre;
        contenedorActores.appendChild(actorElement);
        contenedorActores.appendChild(document.createTextNode(", ")); // separador
      });

      // Cargar temporadas
      const selectTemporadas = document.getElementById("temporadas");
      const selectCapitulos = document.getElementById("capitulos");
      selectTemporadas.innerHTML = "";
      selectCapitulos.innerHTML = "";

      for (let temporada in detalle.temporadas) {
        const option = document.createElement("option");
        option.value = temporada;
        option.textContent = temporada;
        selectTemporadas.appendChild(option);
      }

      // Función para cargar capítulos
      function cargarCapitulos(temporadaSeleccionada) {
        selectCapitulos.innerHTML = "";
        const cantidad = detalle.temporadas[temporadaSeleccionada];
        for (let i = 1; i <= cantidad; i++) {
          const option = document.createElement("option");
          option.value = i;
          option.textContent = `Capítulo ${i}`;
          selectCapitulos.appendChild(option);
        }
      }

      // Evento cuando cambia temporada
      selectTemporadas.addEventListener("change", function () {
        const temporada = this.value;
        cargarCapitulos(temporada);
        // Cambiar el video del iframe por la temporada seleccionada
        if (typeof detalle.video === "object") {
            iframe.src = detalle.video[temporada];
        }
      });

        // Inicializar la primera temporada
        const primeraTemporada = Object.keys(detalle.temporadas)[0];
        selectTemporadas.value = primeraTemporada;
        cargarCapitulos(primeraTemporada);

        if (typeof detalle.video === "object") {
        iframe.src = detalle.video[primeraTemporada];
        }


      // Botón para ver la serie
      document.getElementById("btn-comenzar").addEventListener("click", function () {
        window.open(iframe.src, "_blank");
      });
    } else {
      console.warn("No se encontró ninguna serie con ese ID.");
    }
  } else {
    console.warn("No se encontró el parámetro ?id=");
  }
});
